<div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false">

    <!-- Indicators -->
    <ol class="carousel-indicators" style="display:none">
      <li data-target="#myCarousel" data-slide-to="0"></li>
      <li data-target="#myCarousel" data-slide-to="1"></li>
      <li data-target="#myCarousel" data-slide-to="2"></li>
      <li data-target="#myCarousel" data-slide-to="3"></li>
    </ol>

    <!-- Wrapper for slides -->
    <div class="carousel-inner" role="listbox">

      <div class="item">
        <div style="background:url(/documents/img/citrusgreening/homepage/carousel1.png) center center; background-size:cover;" class="slider-size">
          <div class="carousel-cg-caption">
                  <a href="https://en.wikipedia.org/wiki/Citrus" target="_blank">
                        <h3>Citrus</h3>
                        <p>The citrus hosts infected by Huanglongbing or yellow dragon disease</p>
                  </a>
          </div>

          <div class="carousel-cg-links">
            <ul class="cg_sm_list">
                  <li><a href="/organism/Citrus_clementina/genome"><i>Citrus clementina</i> genome page</a></li>
                  <li><a href="/jbrowse_citrusgreening/current/?data=data%2Fjson%2FCitrus_clementina&tracks=DNA%2CGene%20models%20v1.0&highlight=&loc=scaffold_3%3A20420111..30630165">Browse the <i>Citrus clementina</i> genome</a></li>
                  <li><a href="/organism/Citrus_sinensis/genome"><i>Citrus sinensis</i> genome page</a></li>
                  <li><a href="/jbrowse_citrusgreening/current/?data=data%2Fjson%2FCitrus_sinensis&loc=scaffold00001%3A2370493..3555925&tracks=DNA%2CGene%20models%20v1.1&highlight=">Browse the <i>Citrus sinensis</i> genome</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="item">
        <div style="background:url(/documents/img/citrusgreening/homepage/carousel2.png) center center; background-size:cover;" class="slider-size">
        <div class="carousel-cg-caption">
             <a href="/organism/Diaphorina_citri/genome">
                  <h3><i>Diaphorina citri</i></h3>
                  <p>The Asian citrus psyllid is a sap-sucking, hemipteran bug in the family Psyllidae. The new v2.0 genome is online!</p>
             </a>
        </div>
        <div class="carousel-cg-links">
          <ul class="cg_sm_list">
                 <li><a href="/organism/Diaphorina_citri/genome"><i>Diaphorina citri</i> genome page</a></li>
                 <li><a href="/jbrowse_citrusgreening/current/?data=data%2Fjson%2FDiaci_v2.0_ref&loc=ScVcwli_1319%3A1700494..2550862&tracks=DNA%2Cgene_models&highlight=">Browse the <i>Diaphorina citri</i> v2.0 genome</a></li>
                 <li><a href="ftp://ftp.citrusgreening.org/annotation/OGSv2.0">Download Official gene set v2.0</a></li>
                 <li><a href="/annotation/index">Read about the annotation project</a></li>
                 <li><a href="ftp://ftp.citrusgreening.org/annotation/">Download the annotations</a></li>
                 <li><a href="http://ptools.citrusgreening.org/organism-summary?object=DIAPHORINA">Browse pathways in DiaphorinaCyc</a></li>
          </ul>
        </div>

        </div>
      </div>

      <div class="item">
        <div style="background:url(/documents/img/citrusgreening/homepage/carousel3.png) center center; background-size:cover;" class="slider-size">
        <div class="carousel-cg-caption">
             <a href="/organism/Candidatus_Liberibacter_asiaticus_psy62/genome">
                <h3><i>Candidatus</i> Liberibacter asiaticus</h3>
                <p><i>Candidatus</i> Liberibacter asiaticus psy62 is a gram-negative bacteria in the Rhizobiaceae family. It was published in 2009.</p>
             </a>
        </div>

        <div class="carousel-cg-links">
          <ul class="cg_sm_list">
              <li><a href="/organism/Candidatus_Liberibacter_asiaticus_psy62/genome"><i>Candidatus</i> Liberibacter asiaticus psy62 genome page</a></li>
              <li><a href="/tools/blast?db_id=20">Blast to <i>Candidatus</i> Liberibacter asiaticus psy62 genome</a></li>
          </ul>
        </div>

        </div>
      </div>

      <div class="item">
          <div style="background:url(/documents/img/citrusgreening/homepage/carousel4.png) center center; background-size:cover;" class="slider-size">
                <div class="carousel-cg-caption" style="opacity: 0.95; background-color: #efefef">
                        <a href="/about/"><h3>About Us</h3></a>
                </div>
                <div class="carousel-cg-links">
                </div>

          </div>
      </div>


    </div><!-- Wrapper for slides end-->

  <div class="progress" style="height:5px">
    <hr class="transition-timer-carousel-progress-bar" />
  </div>

  <!-- Left and right controls -->
  <a id="prev_slide" class="left carousel-control" href="#myCarousel" role="button" data-slide="prev" style="color:white;">
    <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a  id="next_slide" class="right carousel-control" href="#myCarousel" role="button" data-slide="next" style="color:white;">
    <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>

</div>

<ul id="btn_carousel_indicators" class="nav nav-pills nav-justified cg_carousel_button_group">
  <li class="active"><a data-target="#myCarousel" data-slide-to="0">Citrus</a></li>
  <li><a data-target="#myCarousel" data-slide-to="1">Asian citrus psyllid</a></li>
  <li><a data-target="#myCarousel" data-slide-to="2"><i>Ca.</i> Liberibacter</a></li>
  <li><a data-target="#myCarousel" data-slide-to="3">Partners</a></li>
</ul>

<style>
	.cg_carousel_button_group {
		margin-left: 10px;
		margin-top: 10px;
		width:98% !important;
	}

	.slider-size {
	  height: 400px; /* This is your slider height */
	}
	.carousel {
	  max-width:98%;
	  /*width:100%;*/
	  margin:0 auto; /* center your carousel if other than 100% */
	  margin-bottom:0px;
	}

	.carousel-cg-caption {
	  position:relative;
	  float: left;
	  max-width:49%;
	  min-width:35%;
	  padding: 0px 10px 0px 10px;
	  margin-top:20px;

    color: #444;
	  font-size: 16px;
	  text-decoration: none;
	  background-color: #fff;
	  opacity: 0.80;
	  filter: alpha(opacity=80); /* For IE8 and earlier */
	  border-top-right-radius:12px;
	  border-bottom-right-radius:12px;
	}

	.carousel-cg-caption a {
    color: #444;
	  text-decoration: none;
	}

	.carousel-cg-caption a:hover {
	  color: #00426c;
	  text-decoration: none;
	}

	.carousel-cg-links {
	  position:absolute;
	  min-width:35%;
	  max-width:49%;
	  margin-top:20px;
	  right:0px;

	  color: #000;
	  font-size: 16px;
	  text-decoration: none;
	  background-color: #fff;
	  opacity: 0.85;
	  filter: alpha(opacity=85); /* For IE8 and earlier */
	  border-top-left-radius:12px;
	  border-bottom-left-radius:12px;
	}

	.carousel-cg-links ul {
	  padding: 10px 0px 0px 15px;
	  list-style-type: none;
	}

	.carousel-cg-links a {
	  color: #000;
	  text-decoration: none;
	}

	.carousel-cg-links a:hover {
	  color: #666;
	  text-decoration: none;
	}

  .cg_sm_list {
    color: #444;
    width: 100%;
    padding: 0px;
    padding-left: 5px;
  }

  .cg_sm_list li {
    color: #444;
    width: 100%;
    padding: 0px;
    padding-left: 5px;
    padding-right: 5px;
  }

  .cg_sm_list li:hover {
    color: #00426c;
  }

  #btn_carousel_indicators {
    cursor: pointer;
  }

	@media (min-width: 0px) and (max-width: 768px) {

    .carousel-cg-caption {
      margin-top:0px;
      width: 100%;
      max-width: 100%;
      border-radius:0px;
      float: none;
      margin-bottom:0px;
      opacity: 0.90;
    }

    .carousel-cg-links {
      background-color: #efefef;
      max-width: 100%;
      width: 100%;
      border-radius:0px;
      bottom:0px;
      opacity: 0.9;
    }

  	.carousel-cg-links ul {
  	  padding: 0px;
      margin-bottom: 0px;
  	}

    .cg_sm_list li {
      color: #00426c;
      width: 100%;
      position: relative;
      display: block;
      padding: 0px;
      padding-left: 5px;
      border: 1px solid #ddd;
    }

    .cg_sm_list li:hover {
      color: #444;
  	  background-color: #fff;
      opacity: 1;
    }

/*    .carousel-indicators {
      bottom:0px;
      margin-bottom: 0px;
      width:100%;
      left:auto;
      margin-left:auto;
    }
*/
    .nav-pills>li>a {
      border-radius: 4px;
      border: 1px solid #ccc;
    }

  	.cg_carousel_button_group {
      margin-left: 5px;
  		margin-top: 5px;
  		width:98% !important;
  	}

	}

	.carousel-control {
		height:100px;
		margin-top:170px
	}

  .transition-timer-carousel-progress-bar {
      height: 4px;
      background-color: #337ab7;
      width: 0;
      margin: 0 0 0 0;
      border: none;
      z-index: 11;
      position: relative;
      border-radius: 0px;
  }

  .progress {
    margin-top: 5px;
    border-radius: 0px;
  }

</style>

<!--
<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
-->

<script>

  jQuery(document).ready(function() {

    var $item = $('.carousel .item');
    // var $wHeight = $(window).height();

    var numberofSlides = $('.item').length;
    var randomSlide = Math.floor((Math.random() * numberofSlides));
    var currentSlide = randomSlide;

    $('.carousel-indicators li').each(function(){
      var $slideValue = $(this).attr('data-slide-to');
      if (randomSlide == $slideValue) {
        $(this).addClass('active');
        $item.eq($slideValue).addClass('active');
      } else {
        $(this).removeClass('active');
        $item.eq($slideValue).removeClass('active');
      }
    });

    $('#btn_carousel_indicators a').each(function(){
      var $slideValue = $(this).attr('data-slide-to');
      // alert("currentSlide: "+$currentSlide+", slideValue: "+$slideValue)
      if (randomSlide == $slideValue) {
        $(this).parent().addClass('active');
      } else {
        $(this).parent().removeClass('active');
      }
    });

    $('#myCarousel').bind('slid.bs.carousel', function (e) {
      $('.carousel-indicators li').each(function(){
        if ($(this).hasClass('active')) {
          currentSlide = $(this).attr('data-slide-to');;
        }
      });

      $('#btn_carousel_indicators li').removeClass('active');

      $('#btn_carousel_indicators a').each(function(){
        var $slideValue = $(this).attr('data-slide-to');
        // alert("currentSlide: "+currentSlide+", slideValue: "+$slideValue)
        if(currentSlide == $slideValue) {
          $(this).parent().addClass('active');
        }
      });

    });

    // touch screen
		//     $("#myCarousel").swiperight(function() {
		//       $("#myCarousel").carousel('prev');
		//     });
		//
		// $("#myCarousel").swipeleft(function() {
		//       $("#myCarousel").carousel('next');
		//     });




  //progress bar
  var percent = 0,
  	interval = 50,//time showing each slide
    $bar = $('.transition-timer-carousel-progress-bar'),
  	$crsl = $('#myCarousel');

    $crsl.carousel({//initialize
      interval: false,
      pause: true
    }).on('slide.bs.carousel', function (){percent = 0;});//restart progress bar on new slide

  	function progressBarCarousel() {
      $bar.css({width:percent+'%'});
  		percent = percent +0.5;
  		if (percent>=100) {
  			percent=0;
  			$crsl.carousel('next');
  		}
  	}
  	var barInterval = setInterval(progressBarCarousel, interval);//set interval to progressBarCarousel function
    if (!(/Mobi/.test(navigator.userAgent))) {//tests if it isn't mobile, progress bar stop on mouse over slide
      $crsl.hover(function(){
            clearInterval(barInterval);
          },
          function(){
            barInterval = setInterval(progressBarCarousel, interval);
          }
      );
    }




    $(".ui-loading").css("display","none");
    $(".ui-loader").css("display","none");
  });
</script>
